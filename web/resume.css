/* Best practices from CSSID book: */
:root {
    box-sizing: border-box;
}

*, 
::before, 
::after {
    box-sizing: inherit;
}

.clearfix::before, .clearfix::after {
	/* Suppress margin-top/bottom merging  */
	display: table;
	content: " ";
}
.clearfix::after {
	clear: both;
}

* { 
	margin-top: 0px;
}

/* CSS variables  */

:root {
	--globalframe-max-width: 1280px;
	--sidecol-fontsize: 0.85em;
	--sidecol-width: 16rem;
	--sidecol-width_w2: 20rem;
	
	
	--maincol-bgcolor: #f0f0f0;
	--maincol-padding-leftright: 1.03em;
	
	/* The three below use `em`(not `rem`) bcz this reflects the character-count of containter's font-size, not the root's. */
	--date-period-ems: 9.88em;   /* enough width for "2002.07 ~ 2018.06" */ 
	--year-period-ems: 8.22em;  /* enough width for "2002 ~ 2018 */ 
	--skill-list-ems: 7.88em;
	
	--langsel-height: 2.21rem;
	--langsel-fontsize: 1.02rem;
	
	--toctitle-height: 2.05em; /* the small title grib at right-bottom corner */
	
	--portrait-height: 120px;
	--portrait-marginv: 0.811em;
	
	--float-toolbar-width: 3.66rem;
}

/*****************************************************************/

body { 
	/* outer frame of double container pattern. */
	margin: 0px; 
}

.maincol a {
	text-decoration: none;
	font-weight: bold;
	color: #6767b4;
}
a:hover {
	color: #252590;
}

pre {
	border: 1px solid #bde;
	border-radius: 0.34em;
	padding: 0.5em;
	line-height: 1.37;
	white-space: pre-wrap;
}

tt {
	color: #252590;
}

#css_layout_now {
	display: none;
	line-height: 1px;
}

.globalframe {
	/* inner frame of double container pattern. */
	margin: auto;
	max-width: var(--globalframe-max-width);

	border: 1px dashed cyan;
	background-color: #fffff0;
	border-radius: 1em;
}

.imgbox-float-right {
	display: block;
	margin: 0.41em;
	text-align: center;
}

.imgbox-float-right__foottext {
	font-size: 0.8em;
	text-align: center;
	color: #666;
	background-image: linear-gradient(to bottom, #fff, #ccc);
}

.mainlang-cn [class^="lang-cn"] , 
.mainlang-en [class^="lang-en"] {
	color: black; 
} 
.mainlang-cn [class^="lang-en"] , 
.mainlang-en [class^="lang-cn"] {
	color: #999; /* For non-main language, I use a pale color for text. */
} 

.mainlang-cn .langsel #btn-cn ,
.mainlang-en .langsel #btn-en  {
	text-decoration: underline;
} 

.titlebar__head {
	text-align: center;
	font-size: 2em;
    letter-spacing: 0.5em;
    font-family: 楷体;
}

.titlebar__myname .chenjun {
    font-family: 楷体;
	font-size: 3em;
}

.titlebar__myname .career {
	font-size: 0.6em;
}

.maincol {
/*	margin: 0.8rem 1rem;
*/
	border: 1px solid #888;
	padding-left:  var(--maincol-padding-leftright);
	padding-right: var(--maincol-padding-leftright);

	background-color: var(--maincol-bgcolor);
	border-radius: 1em;
}


/* Mobile first side-column styles */
.sidecol {
/*	margin: 0.8rem 18px;
	// Enable margin to see fix_sidebar_position() can cope with margins.
*/	
	position: static;
	display: block; /* `block` in mobile layout, will change to "fixed" in desktop layout */
	
	border: 1px dashed;
	border-radius: 0.5em;
	font-size: var(--sidecol-fontsize);
	
	overflow: hidden; /* Delete this prop may sometimes help diagnose layout problem. */
}

.sidecol button {
	font-size: var(--langsel-fontsize);
	padding: 0.5em;
	color: #ccc;
	border: 1px solid #57b;
	background-image: linear-gradient(to bottom, #222, #888);
	cursor: pointer;
}
.sidecol button::before {
	content: " ";
	display: inline-block;
	width: var(--langsel-fontsize);
	height: var(--langsel-fontsize);
	background-repeat: no-repeat;
	background-image: url('res/square-uncheck.svg');
	
/*	background-image: url('data:image/svg+xml;utf8,<svg aria-hidden="true" focusable="false" data-icon="square-uncheck" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="#f4f4f4" d="M 400,32 48,32 C 21.49,32 0,53.49 0,80 l 0,352 c 0,26.51 21.49,48 48,48 l 352,0 c 26.51,0 48,-21.49 48,-48 L 448,80 C 448,53.49 426.51,32 400,32 z m 0,400 -352,0 0,-352 352,0 z"></path></svg>');
	// Strange! Why this embedding svg fail to show?
*/	
}

.sidecol .button_on {
	font-size: var(--langsel-fontsize);
	color: white;
	border: 1px solid #57b;
	background-image: linear-gradient(to bottom, #57b, #012);
	box-shadow: 0.1em 0.1em 0.5em #124;
	
}
.sidecol .button_on::before {
	content: " ";
	display: inline-block;
	width: var(--langsel-fontsize);
	height: var(--langsel-fontsize);
	background-repeat: no-repeat;
	background-image: url('res/square-check.svg');
}

.langsel {
	display: flex;
	height: var(--langsel-height);
}
.langsel > button > * {
	vertical-align: bottom;
}
.langbtn {
	flex: 1;
	text-align: center;
}
.langbtn__left {
	border: 1px solid;
	border-radius: 0.5em 0 0 0.5em
}
.langbtn__right {
	border: 1px solid;
	border-radius: 0 0.5em 0.5em 0 
}

.portrait {
	margin-left: auto;
	margin-right: auto;
	margin-top: var(--portrait-marginv);
	margin-bottom: var(--portrait-marginv);
/*	max-width: 120px;
*/	width: var(--portrait-height);
	height: var(--portrait-height);
	border-radius: calc(120px/2);
	background: linear-gradient(15deg, green, cyan);
	box-shadow: 0em 0.211em 0.811em gray;
}

.profile_list {
	display: table;
	margin: auto; /* horizontal centered */
}

.profile_list [class^="lang-"] {
/*	transition: height 1500ms, color 1500ms;
	// Can enable it if you like.
*/
}


.profile__item {
	display: table-row;
}

.item__name {
	display: table-cell;
	font-weight: bold;
}
.item__value {
	display: table-cell;
}

.tocframe {
	display: none;
}


h1:target, h2:target, h3:target {
/*	background-color: yellow;
*/
	animation: yellow-fading 1.2s linear;
}
@keyframes yellow-fading {
    0% {
        background-color: yellow;
    }
    
    100% {
        background-color: transparent;
    }
}

.h1title {
	display: inline-block;
/*	padding-bottom: 0.2em;
	margin-bottom: 0.3em;
*/
}

.h1title .stripe {
	width: 100%;
	height: 0.5rem;
	background-image: repeating-linear-gradient(45deg, #57b 0px, #249 20px, #57b 40px);
}

.h1title [class^="lang-"] {
/*
	background-color: var(--maincol-bgcolor);
	border-bottom: 5px solid;
*/
}

.h2title {
	display: inline-block;
}
.h2title .stripe {
	width: 100%;
	height: 0.4rem;
	background-image: repeating-linear-gradient(45deg, #cb5 0px, #a83 20px, #cb5 40px);
}

.ques{
	font-weight: bold;
}

.ans ul {
	padding-left: 1.12em;
}

quote {
	display: block;
	padding-left: 1.78em;
	padding-top: 0.28em;
	padding-bottom: 0.28em;
}

[class^="lang-"] {
	overflow: hidden;
		/* Without this, we'll see ugly text overflow when doing cn/en transitioning. */ 
}

.maincol [class^="lang-"] {
	transition: height 1500ms, color 1500ms;
}

.maincol > * {
	margin-left: 0.4rem;
	margin-right: 0.4rem;
}

.maincol > .h1title {
	margin: 0.6rem;
}

.careerbanner {
	display: block;
	margin-top: 1em;
	margin-bottom: 1em;
}

.careerb__orgname {
	text-align: left;
}
.careerb__jobtitle {
}
.careerb__date {
}

.companyinfo,
.h1intro {
	border: 1px solid grey;
	border-radius: 0.5em;
	padding: 1em;
}

.careertable {
	/* As container of careertable__rows. */
}

.careertable__row {
	display: block;
	margin-top: 0.8rem;
	margin-bottom: 0.8rem;
}

.careertable__row > * {
	border-bottom: 1px solid;
}

/* mobile layout scattered table heading, shared properties: */
.careertable__date::before ,
.careertable__year::before ,
.careertable__achievement::before ,
.careertable__skill::before {
	display: block;
	font-weight: bold;
}
.careertable__date::before ,
.careertable__year::before {
	margin-top: 1.89em;
}

.careertable__date , .careertable__year {
	border-left: 5px solid black;
	padding-left: 0.5em;
}

.table_s { /* _s implies: with a smaller font */
	margin-left: 1em;
	display: table;
	font-size: 0.9em;
	border-spacing: 0.244em;

}
.table_s .table__row {
	display: table-row;
}
.table_s .table__cell {
	display: block;  /* would be table-cell for desktop */
	padding: 0.5em;
}
.table_s .itemname {
	background-color: #80c0dd;
	min-width: 6.13em;
}
.table_s .itemvalue {
	background-color: #d0d7e4;
}

.table_s .itembrief {
	background-color: #dabbe8;
	min-width: 7.13em;
}
.table_s .itemdetail {
	background-color: #dad0e8;
}

.itembrief {
	display: block;
	padding: 0.372em 0em;
	color: brown;  /* test, no use */
}
.itemdetail {
/*	margin-left: 2em;
*/
	padding: 0.372em 0em;
}


.mainlang-cn .careertable__date::before {
	content: "时间线";
}
.mainlang-en .careertable__date::before {
	content: "Timeline";
}


.mainlang-cn .careertable__achievement::before {
	content: "成就";
}
.mainlang-en .careertable__achievement::before {
	content: "Achievement";
}

.mainlang-cn .careertable__skill::before {
	content: "技能与知识";
}
.mainlang-en .careertable__skill::before {
	content: "Skill and Knowledge"
}

.careertable__skill {
	font-size: 0.81rem;
}

.careertable__skill ul {
	padding-left: 0px;
}
.careertable__skill li {
	list-style-type: none;
	
	display: inline-block;
	padding: 0.2em;
	line-height: 1.2;
	border: 1px grey solid;
	border-radius: 0.5em;
	margin: 0.2em;
}

.careertable__headrow {
	display: none;
}

.duallang {
}
.duallang + .duallang { /* margin-top from second .duallang */
	margin-top: 0.6em;
	margin-bottom: 0.6em;
}

.duallang > *:first-child {
/*	xxx-margin-bottom: 0.2em;
*/
}
.duallang.bounding {
	border: 1px solid transparent;
	/* Use a *transparent* border as placeholder, otherwise, when 1px border is added by :hover,
	the layout inside will go for a subtle re-flow, not visually friendly. */
}
.duallang.bounding:hover {
	border: 1px dashed gray;
}
.duallang.bounding:hover .lang-cn2 {
	background-color: rgb(240, 240, 224);
}
.duallang.bounding:hover .lang-en2 {
	background-color: rgb(234, 248, 255);
}

.imagerow {
	display: flex;
	align-items: stretch; /* so to make left-block & right-block same height */
	width: 100%;
	text-align: center;
}
.imagerow > * {
	flex: 1;
	padding: 0.1em;
	max-width: 100%;
/*	height: 100%; 
	[2019-06-21] Without this, Chrome 74 will use image's orignal height, but Firefox 67 does not have such problem. 
	// That was the old comment when <img> directly acts as flex cell, and the behavior was odd.
*/
}

/*.imagerow--textandimage {
	align-items: stretch; 
}
*/
.imagerow--textandimage > *{
	border: 1px solid grey;
	margin: 1px;
}
.imagerow > * img {
	object-fit: contain;
	max-width: 100%;
}

.toolbarfloat {
	display: none;
	position: fixed;
	z-index: 3;
	right: 10px;
	bottom: 10px;
}

.toolbarframe {
	width: var(--float-toolbar-width);
	height: var(--float-toolbar-width);
	cursor: pointer;
	
	background-color: pink;
	border-radius: calc(var(--float-toolbar-width)/2);
	display: flex;
	justify-content: center; /* horizontal center */
	align-items: center;     /* vertical center */
	
	box-shadow: 0em 0em 0.5em #124;
}
.toolbaricon {
	flex: 1;
	width:  calc(var(--float-toolbar-width)/1.66);
	height: calc(var(--float-toolbar-width)/1.66);
	margin-left: calc(var(--float-toolbar-width)/5.66);
	
	background-repeat: no-repeat;
	background-image: url('data:image/svg+xml;utf8,<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-circle-up" class="svg-inline--fa fa-chevron-circle-up fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="red" d="M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"></path></svg>');
}

/************************ Desktop Web Layout Override  ************************/



@media (min-width: 799.1px) 
{
	/* Desktop layout side-column styles. Whole side-column is fixed at viewport right-side. */

	#css_layout_now {
		display: none;
		line-height: 2px;
	}
	
	.globalframe {
		position: relative; /* as base frame */
	}

	.imgbox-float-right {
		float: right;
		margin: 0.41em;
	}
	
	@media (min-width: 1200px)
	{
		:root {
			--sidecol-width: var(--sidecol-width_w2);
		}
	}
	
	.maincol {
		margin-right: var(--sidecol-width);
	}

	.sidecol {
		position: absolute;
		top: 0em;
		bottom: 0em;
		right: 0em;
		
		width: var(--sidecol-width);
	}

/*	.portrait {
		float: none;
		margin: auto;
		
	}
*/

	.profile_scrollbox {
		position: absolute;
		top: calc( var(--langsel-height) + var(--portrait-height) + var(--portrait-marginv)*2 );
		bottom: var(--toctitle-height);
		left: 0px;
		right: 0px;
		
		overflow: auto;
	}

	.tocframe {
		display: block;
		position: absolute;
		z-index: 2;
/*		top: calc(var(--langsel-height) + 510px);
*/		left: 0em;
		right: 0em;
		bottom: 0em;
		border-radius: 0.5em;
		
		color: white;
		background-color: #21385d;
		
		transition: height 900ms;
	}
	
	.toctitle {
		position: relative;
		left: 0em;
		right: 0em;
		display: flex;
		justify-content: center; /* horizontal center */
		align-items: center;     /* vertical center */
		height: var(--toctitle-height);
		cursor: pointer;
	}
	
	.toctitle_arrow {
		position: absolute;
		top: 2px;
		bottom: 2px;
		right: 2px;
		width: var(--toctitle-height);
		background-repeat: no-repeat;
	}
	
	.svg_arrowup {
		background-image: url('data:image/svg+xml;utf8,<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-circle-up" class="svg-inline--fa fa-chevron-circle-up fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="white" d="M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm231-113.9L103.5 277.6c-9.4 9.4-9.4 24.6 0 33.9l17 17c9.4 9.4 24.6 9.4 33.9 0L256 226.9l101.6 101.6c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.4 9.4-24.6 0-33.9L273 142.1c-9.4-9.4-24.6-9.4-34 0z"></path></svg>');
	}
	.svg_arrowdown {
		background-image: url('data:image/svg+xml;utf8,<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-circle-down" class="svg-inline--fa fa-chevron-circle-down fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path stroke="blue" fill="white" d="M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM273 369.9l135.5-135.5c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L256 285.1 154.4 183.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L239 369.9c9.4 9.4 24.6 9.4 34 0z"></path></svg>');
	}

	body .tocframe [class^="lang-"] {
		color: #e2e2e2;
	}

	body .tocframe .toctitle {
		text-shadow: cyan 1px 1px 3px
	}

	body .tocframe .toctext {
		position: absolute;
		top: var(--toctitle-height);
		bottom: 0px;
		left: 0px;
		right: 0px;
		margin-left: 0.415em;
		margin-right: 0.415em;
		overflow: auto;
	}

	.toctext .toc_depth0 {
		padding-top: 5px;
	}

	.toctext .toc_depth1 {
		padding-left: 4px;
		padding-top: 2px;
	}

	.toctext .toc_depth2 {
		padding-left: 8px;
		padding-top: 0px;
	}

	.toctext .toc_seqs {
		color: #999;
	}
	
	body .tocframe .focus [class^="lang-"] {
		color: yellow;
		font-weight: bold;
	}

	.tocframe a {
		text-decoration: none;
	}

	.careerbanner {
	/*	width: 100%;
		// would cause right-side stick out.
	*/	
		display: flex;
	}

	/* careerb means carrerbanner */
	.careerb__orgname {
		margin-right: auto;
		text-align: left;
		padding-right: 0.46em;
	}
	.careerb__jobtitle {
		margin-left: auto;
		text-align: right;
		padding-left: 0.46em;
	}
	.careerb__date {
		flex: var(--date-period-ems) 0;
		text-align: right;
		padding-left: 0.46em;
	}

	.careertable {
		/* As container of careertable__rows. */
/*		padding-left: 1em; 
		// to make an indent effect (no sense, to delete)
*/	
	}

	.careertable__row {
		display: flex;
		margin-top: 0.8rem;
		margin-bottom: 0.8rem;
	}

	.careertable__date , .careertable__year {
		border-left: 0px;
		padding-left: 0em;
	}

	.careertable__date::before ,
	.careertable__year::before ,
	.careertable__achievement::before ,
	.careertable__skill::before {
		display: none;
	}

	.careertable__date {
		font-size: 0.7rem;
		flex: var(--date-period-ems) 0;
		word-break: break-word;
	}
	.careertable__year {
		font-size: 0.7rem;
		flex: var(--year-period-ems) 0;
		word-break: break-word;
	}
	.careertable__achievement {
		font-size: 0.9rem;
		flex: 1;
		margin-left: 2px;
		margin-right: 2px;
	}
	.careertable__skill {
		font-size: 0.7rem;
		flex: var(--skill-list-ems) 0 1;
		/*flex: 20% 0 1;*/
	}

	.careertable__headrow {
		display: flex;
	}
	
	.careertable__headrow .headtext {
		font-weight: bold;
		font-size: 1rem;
		text-align: center;
	}

	.careertable__headrow > * {
		/* headrow cell background color */
		background-color: lightskyblue;
	}

	.duallang {
/*		padding: 0.31em;
*/	}
	.duallang > *:first-child {
/*		margin-bottom: 3.2em;
*/	}
	.duallang [class^=lang-] {
	/* NOTE: duallang padding/border/margin will cause cn/en transitionend FLICKER! Don't use it! */
/*		padding: 3.32em;
*/	}
	.duallang.bounding {
		border: 1px solid transparent;
		/* Use a *transparent* border as placeholder, otherwise, when 1px border is added by :hover,
		the layout inside will go for a subtle re-flow, not visually friendly. 
		[2019-06-17 23:20] This border width does not cause transitionend flicker.
		*/
	}
	.duallang.bounding:hover {
		border: 1px dashed gray;
	}
	.duallang.bounding:hover .lang-cn2 {
		background-color: rgb(240, 240, 224);
	}
	.duallang.bounding:hover .lang-en2 {
		background-color: rgb(234, 248, 255);
	}

	.ans { 
		margin-left: 2.12em;
	}

	.ans ul {
		padding-left: 1.42em;
	}

	.table_s .table__cell {
		display: table-cell;
		padding: 0.5em;
	}

	.toolbarfloat {
		display: none !important;
	}

}

